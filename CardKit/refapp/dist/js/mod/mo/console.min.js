define("mo/console",["mo/lang","mo/browsers","mo/template/string","mo/domready"],function(a,b,c){function d(a,b){b=b||{};var c=a.toString().trim().match(i)[1].trim().replace(/return\s+/,"").replace(/;$/,"");g.info("run `"+c+"`");try{g.info(a())}catch(d){g.error(b.showStack?d:d.message)}}function e(b){return function(){a.isFunction(h[b])&&h[b].apply(g,arguments),g.cc('<p><span class="type type-'+b+'"></span>'+'<span class="log">'+Array.prototype.slice.call(arguments).map(f,b).join('</span><span class="log">')+"</span></p>")}}function f(a){var d=this;return a instanceof Error?(a=a.stack?a.stack.split(/at\s/):[a.message],a.map(function(a){return f("at "+a,d)}).join("<br>")):"log"===d.toString()||!a||"object"!=typeof a||b.aosp&&1===a.nodeType?(a=String(a),"string"==typeof a?c.escapeHTML(a):a):(a=['<span class="obj-start">'+c.escapeHTML("{")+"</span>",Object.keys(a).map(function(a){var b;try{b=this[a]}catch(e){b=e.message}return b="string"==typeof b?'"'+b+'"':String(b),'<span class="obj-item"><span class="obj-k">'+f(a,d)+': </span><span class="obj-v">'+("string"==typeof b?c.escapeHTML(b):b)+"</span>,</span>"},a).join(""),'<span class="obj-end">'+c.escapeHTML("}")+"</span>"].join(""),'<span class="obj-wrap"><span class="obj-overview">'+a+'</span><span class="obj-end">...}</span><span class="obj-detail">'+a+"</span></span></span>")}var g=this.console=this.console||{},h={log:g.log,info:g.info,warn:g.warn,error:g.error},i=/^function[^(]*\([^)]*\)[^{]*\{([.\s\S]*)\}$/;return g._ccBuffer=[],g.config=function(a){return a.output&&(this._ccOutput=a.output,this._ccOutput.innerHTML=this._ccBuffer.join("")),void 0!==a.record&&(this._recording=a.record,a.record||g.cc()),this},g.enable=function(){for(var a in h)g[a]=e(a);return g.run=d,this},g.disable=function(){for(var a in h)g[a]=h[a];return g.run=g.log,this},g.cc=function(a){if(void 0===a)return this._ccBuffer.join("");this._ccBuffer.push(a);var b=this._ccBuffer.join("");return this._recording||this._ccOutput&&(this._ccOutput.innerHTML=b),b},g});